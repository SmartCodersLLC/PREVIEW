{"version":3,"sources":["Components/Login/login.module.css","Components/Language/language.module.css","Components/Login/index.js","Service/storage.js","Components/Language/index.js","Containers/LoginContainer.js","Pages/LoginPage.js"],"names":["module","exports","Login","login","password","setLogin","setPassword","loginRef","passwordRef","handleLogin","isLoading","t","useTranslation","className","styles","page","container","form","title","field","type","placeholder","name","value","onChange","e","target","ref","submit","button","onClick","disabled","setCookie","days","expires","date","Date","setTime","getTime","toUTCString","document","cookie","StorageService","getCookie","parts","split","length","pop","shift","removeCookie","getLocalStorage","key","JSON","parse","localStorage","getItem","setLocalStorage","setItem","stringify","removeLocalStorage","removeItem","Language","i18n","changeLanguage","language","list","active","inactive","LoginContainer","navigate","useNavigate","useState","useRecoilState","userState","user","setUser","setIsLoading","useRef","isAuthenticated","appName","preventDefault","data","AuthService","then","message","status","error","notify","LoginPage","charSet"],"mappings":"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","file":"static/js/5.1e8a799e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"login_page__2BTIy\",\"container\":\"login_container__1SL6x\",\"title\":\"login_title__35_yE\",\"submit\":\"login_submit__3nUmS\",\"form\":\"login_form__2i6Zx\",\"field\":\"login_field__1vMUZ\",\"button\":\"login_button__1kkJw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"language_list__2JRBI\",\"inactive\":\"language_inactive__3ApM6\",\"active\":\"language_active__N6B2y\"};","//login\r\n// Language: javascript\r\n// Path: UMK_Front\\src\\Components\\Login\\index.js\r\n\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport styles from \"./login.module.css\";\r\n\r\nexport default function Login({\r\n  login,\r\n  password,\r\n  setLogin,\r\n  setPassword,\r\n  loginRef,\r\n  passwordRef,\r\n  handleLogin,\r\n  isLoading,\r\n}) {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <div className={styles.page}>\r\n      <div className={styles.container}>\r\n        <div className={styles.form}>\r\n          <h1 className={styles.title}>{t(\"login.title\")}</h1>\r\n          <div className={styles.field}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder={t(\"login.login\")}\r\n              name=\"login\"\r\n              value={login}\r\n              onChange={(e) => setLogin(e.target.value)}\r\n              ref={loginRef}\r\n            />\r\n            <i className=\"fa fa-user\"></i>\r\n          </div>\r\n          <div className={styles.field}>\r\n            <input\r\n              type=\"password\"\r\n              placeholder={t(\"login.password\")}\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              ref={passwordRef}\r\n            />\r\n            <i className=\"fa fa-lock\"></i>\r\n          </div>\r\n          <div className={styles.submit}>\r\n            <button\r\n              className={styles.button}\r\n              type=\"submit\"\r\n              onClick={handleLogin}\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? t(\"loading\") : t(\"login.sign\")}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","function setCookie(name, value, days = 60) {\r\n  let expires = \"\";\r\n  if (days) {\r\n    let date = new Date();\r\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\r\n    expires = \"; expires=\" + date.toUTCString();\r\n  }\r\n\r\n  document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\r\n}\r\n\r\nfunction getCookie(name) {\r\n  const value = `; ${document.cookie}`;\r\n  const parts = value.split(`; ${name}=`);\r\n  if (parts.length === 2) return parts.pop().split(\";\").shift();\r\n}\r\n\r\nfunction removeCookie(name) {\r\n  setCookie(name, \"\", -10);\r\n}\r\n\r\nfunction getLocalStorage(key) {\r\n  return JSON.parse(localStorage.getItem(key));\r\n}\r\n\r\nfunction setLocalStorage(key, value) {\r\n  localStorage.setItem(key, JSON.stringify(value));\r\n}\r\n\r\nfunction removeLocalStorage(key) {\r\n  localStorage.removeItem(key);\r\n}\r\n\r\nexport const StorageService = {\r\n  setCookie,\r\n  getCookie,\r\n  removeCookie,\r\n  getLocalStorage,\r\n  setLocalStorage,\r\n  removeLocalStorage,\r\n};\r\n","//login\r\n// Language: javascript\r\n// Path: UMK_Front\\src\\Components\\Login\\index.js\r\n\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport styles from \"./language.module.css\";\r\nimport { StorageService } from \"../../Service/storage\";\r\n\r\nexport default function Language() {\r\n  const { i18n } = useTranslation();\r\n  const changeLanguage = (language) => {\r\n    i18n.changeLanguage(language);\r\n    StorageService.setLocalStorage(\"lang\", language);\r\n    StorageService.setCookie(\"lang\", language);\r\n  };\r\n  return (\r\n    <div className={styles.list}>\r\n      <button\r\n        className={i18n.language === \"kg\" ? styles.active : styles.inactive}\r\n        onClick={() => changeLanguage(\"kg\")}\r\n      >\r\n        Кыр\r\n      </button>\r\n      <button\r\n        className={i18n.language === \"ru\" ? styles.active : styles.inactive}\r\n        onClick={() => changeLanguage(\"ru\")}\r\n      >\r\n        Рус\r\n      </button>\r\n      <button\r\n        className={i18n.language === \"en\" ? styles.active : styles.inactive}\r\n        onClick={() => changeLanguage(\"en\")}\r\n      >\r\n        Eng\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport { AuthService } from \"../Service/auth\";\r\nimport Login from \"../Components/Login\";\r\nimport Language from \"../Components/Language\";\r\nimport { notify } from \"../Utils/notify\";\r\nimport { userState } from \"../State/user\";\r\nimport { appName } from \"../Service/http\";\r\nexport function LoginContainer() {\r\n  const navigate = useNavigate();\r\n  const [login, setLogin] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [user, setUser] = useRecoilState(userState);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const loginRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setUser({ isAuthenticated: false, data: null, isLoading: true });\r\n\r\n    AuthService.login({ login, password }).then(\r\n      ({ data, status, message, error }) => {\r\n        setIsLoading(false);\r\n        if (error) {\r\n          setUser({ isAuthenticated: false, data: null, isLoading: false });\r\n          notify(message, \"error\");\r\n        } else {\r\n          setUser({ isAuthenticated: true, data, isLoading: false });\r\n          notify(message, \"success\");\r\n          navigate(`${appName}/`);\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  if (!user.isLoading && user.isAuthenticated) {\r\n    navigate(`${appName}/`);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Language />\r\n      <Login\r\n        login={login}\r\n        password={password}\r\n        setLogin={setLogin}\r\n        setPassword={setPassword}\r\n        loginRef={loginRef}\r\n        passwordRef={passwordRef}\r\n        handleLogin={handleLogin}\r\n        isLoading={isLoading}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { LoginContainer } from \"../Containers/LoginContainer\";\r\n\r\nexport default function LoginPage() {\r\n  const { t } = useTranslation();\r\n  return (\r\n    <div className=\"Main\">\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>\r\n          {t(\"head.login\")} | {t(\"head.appTitle\")}\r\n        </title>\r\n      </Helmet>\r\n      <LoginContainer />\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}